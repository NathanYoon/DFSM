Token --------------------- Lexeme
==================================
==================================
| IDENTIFIER --------------------- in_str
| OPERATOR --------------------- =
| IDENTIFIER --------------------- input
| SEPERATOR --------------------- (
| SEPERATOR --------------------- )
| IDENTIFIER --------------------- macros
| OPERATOR --------------------- =
| SEPERATOR --------------------- [
| SEPERATOR --------------------- ]
| IDENTIFIER --------------------- macro
| OPERATOR --------------------- =
| SEPERATOR --------------------- {
| SEPERATOR --------------------- }
| IDENTIFIER --------------------- macro_started
| OPERATOR --------------------- =
| KEYWORD --------------------- False
| IDENTIFIER --------------------- trim_str
| OPERATOR --------------------- =
| IDENTIFIER --------------------- in_str
| OPERATOR --------------------- .
| IDENTIFIER --------------------- strip
| SEPERATOR --------------------- (
| SEPERATOR --------------------- )
| KEYWORD --------------------- while
| IDENTIFIER --------------------- trim_str
| OPERATOR --------------------- !=
| STRING --------------------- 'end'
| OPERATOR --------------------- :
| COMMENT --------------------- # this is a comment
| IDENTIFIER --------------------- list_of_commands
| OPERATOR --------------------- =
| IDENTIFIER --------------------- list
| SEPERATOR --------------------- (
| IDENTIFIER --------------------- filter
| SEPERATOR --------------------- (
| IDENTIFIER --------------------- None
| SEPERATOR --------------------- ,
| IDENTIFIER --------------------- in_str
| OPERATOR --------------------- .
| IDENTIFIER --------------------- split
| SEPERATOR --------------------- (
| STRING --------------------- ' '
| SEPERATOR --------------------- )
| SEPERATOR --------------------- )
| SEPERATOR --------------------- )
| KEYWORD --------------------- if
| STRING --------------------- 'macro'
| KEYWORD --------------------- in
| IDENTIFIER --------------------- list_of_commands
| OPERATOR --------------------- :
| IDENTIFIER --------------------- macro
| SEPERATOR --------------------- [
| STRING --------------------- 'lines'
| SEPERATOR --------------------- ]
| OPERATOR --------------------- =
| SEPERATOR --------------------- [
| IDENTIFIER --------------------- in_str
| SEPERATOR --------------------- ]
| IDENTIFIER --------------------- macro_started
| OPERATOR --------------------- =
| KEYWORD --------------------- True
| IDENTIFIER --------------------- args
| OPERATOR --------------------- =
| IDENTIFIER --------------------- list_of_commands
| SEPERATOR --------------------- [
| OPERATOR --------------------- -
| INTEGER --------------------- 1
| SEPERATOR --------------------- ]
| OPERATOR --------------------- .
| IDENTIFIER --------------------- split
| SEPERATOR --------------------- (
| STRING --------------------- ','
| SEPERATOR --------------------- )
| IDENTIFIER --------------------- macro
| SEPERATOR --------------------- [
| STRING --------------------- 'name'
| SEPERATOR --------------------- ]
| OPERATOR --------------------- =
| IDENTIFIER --------------------- list_of_commands
| SEPERATOR --------------------- [
| INTEGER --------------------- 0
| SEPERATOR --------------------- ]
| IDENTIFIER --------------------- macro
| SEPERATOR --------------------- [
| STRING --------------------- 'num_of_arg'
| SEPERATOR --------------------- ]
| OPERATOR --------------------- =
| IDENTIFIER --------------------- len
| SEPERATOR --------------------- (
| IDENTIFIER --------------------- args
| SEPERATOR --------------------- )
| IDENTIFIER --------------------- macro
| SEPERATOR --------------------- [
| STRING --------------------- 'args'
| SEPERATOR --------------------- ]
| OPERATOR --------------------- =
| SEPERATOR --------------------- {
| SEPERATOR --------------------- }
| KEYWORD --------------------- for
| IDENTIFIER --------------------- i
| KEYWORD --------------------- in
| IDENTIFIER --------------------- range
| SEPERATOR --------------------- (
| INTEGER --------------------- 0
| SEPERATOR --------------------- ,
| IDENTIFIER --------------------- len
| SEPERATOR --------------------- (
| IDENTIFIER --------------------- args
| SEPERATOR --------------------- )
| SEPERATOR --------------------- )
| OPERATOR --------------------- :
| IDENTIFIER --------------------- macro
| SEPERATOR --------------------- [
| STRING --------------------- 'args'
| SEPERATOR --------------------- ]
| SEPERATOR --------------------- [
| IDENTIFIER --------------------- args
| SEPERATOR --------------------- [
| IDENTIFIER --------------------- i
| SEPERATOR --------------------- ]
| SEPERATOR --------------------- ]
| OPERATOR --------------------- =
| STRING --------------------- '#'
| OPERATOR --------------------- +
| IDENTIFIER --------------------- str
| SEPERATOR --------------------- (
| IDENTIFIER --------------------- i
| SEPERATOR --------------------- )
| KEYWORD --------------------- if
| IDENTIFIER --------------------- macro_started
| IDENTIFIER --------------------- and
| STRING --------------------- 'macro'
| IDENTIFIER --------------------- not
| KEYWORD --------------------- in
| IDENTIFIER --------------------- list_of_commands
| OPERATOR --------------------- :
| KEYWORD --------------------- for
| IDENTIFIER --------------------- arg
| KEYWORD --------------------- in
| IDENTIFIER --------------------- macro
| SEPERATOR --------------------- [
| STRING --------------------- 'args'
| SEPERATOR --------------------- ]
| OPERATOR --------------------- :
| IDENTIFIER --------------------- in_str
| OPERATOR --------------------- =
| IDENTIFIER --------------------- in_str
| OPERATOR --------------------- .
| IDENTIFIER --------------------- replace
| SEPERATOR --------------------- (
| IDENTIFIER --------------------- arg
| SEPERATOR --------------------- ,
| IDENTIFIER --------------------- macro
| SEPERATOR --------------------- [
| STRING --------------------- 'args'
| SEPERATOR --------------------- ]
| SEPERATOR --------------------- [
| IDENTIFIER --------------------- arg
| SEPERATOR --------------------- ]
| SEPERATOR --------------------- )
| IDENTIFIER --------------------- macro
| SEPERATOR --------------------- [
| STRING --------------------- 'lines'
| SEPERATOR --------------------- ]
| OPERATOR --------------------- .
| IDENTIFIER --------------------- append
| SEPERATOR --------------------- (
| IDENTIFIER --------------------- in_str
| SEPERATOR --------------------- )
| KEYWORD --------------------- if
| STRING --------------------- 'endm'
| KEYWORD --------------------- in
| IDENTIFIER --------------------- list_of_commands
| OPERATOR --------------------- :
| IDENTIFIER --------------------- macro_started
| OPERATOR --------------------- =
| KEYWORD --------------------- False
| KEYWORD --------------------- for
| IDENTIFIER --------------------- line
| KEYWORD --------------------- in
| IDENTIFIER --------------------- macro
| SEPERATOR --------------------- [
| STRING --------------------- 'lines'
| SEPERATOR --------------------- ]
| OPERATOR --------------------- :
| KEYWORD --------------------- print
| SEPERATOR --------------------- (
| IDENTIFIER --------------------- line
| SEPERATOR --------------------- )
| IDENTIFIER --------------------- macros
| OPERATOR --------------------- .
| IDENTIFIER --------------------- append
| SEPERATOR --------------------- (
| IDENTIFIER --------------------- macro
| SEPERATOR --------------------- )
| IDENTIFIER --------------------- macro
| OPERATOR --------------------- =
| SEPERATOR --------------------- {
| SEPERATOR --------------------- }
| IDENTIFIER --------------------- in_str
| OPERATOR --------------------- =
| IDENTIFIER --------------------- input
| SEPERATOR --------------------- (
| SEPERATOR --------------------- )
| IDENTIFIER --------------------- trim_str
| OPERATOR --------------------- =
| IDENTIFIER --------------------- in_str
| OPERATOR --------------------- .
| IDENTIFIER --------------------- strip
| SEPERATOR --------------------- (
| SEPERATOR --------------------- )
| KEYWORD --------------------- if
| SEPERATOR --------------------- (
| IDENTIFIER --------------------- trim_str
| OPERATOR --------------------- ==
| STRING --------------------- 'end'
| SEPERATOR --------------------- )
| OPERATOR --------------------- :
| KEYWORD --------------------- break
| END --------------------- 
